# ğŸ¬ MOVIEZZANG

![header](https://capsule-render.vercel.app/api?type=venom&color=0:8871e5,100:b678c4&height=300&section=header&text=MOVIEZZANG&fontSize=90)

AJAX ê¸°ë°˜ **ì˜í™” ì˜ˆë§¤ ì›¹ì•±(JSP Model-1)** â€” í˜ì´ì§€ ì´ë™ ì—†ì´ **ë‚ ì§œ â†’ ì§€ì—­ â†’ ì˜í™” â†’ ê·¹ì¥ â†’ ìƒì˜ê´€ â†’ ì‹œê°„**ì„ í•„í„°ë§í•˜ê³ , **ì—°ì†ì¢Œì„Â·ì§ìˆ˜ ê¸°ì¤€Â·í˜¸ë²„ ë¯¸ë¦¬ë³´ê¸°**ë¥¼ í¬í•¨í•œ ì¢Œì„ ì„ íƒ UXë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ìš”ì•½
- í˜ì´ì§€ ì´ë™ ì—†ëŠ” **AJAX ì˜ˆë§¤ í”Œë¡œìš°**
- **ì¢Œì„ ì„ íƒ UX**: 2ì¸ ì´ìƒ ì—°ì† ì¢Œì„, ê¸°ì¤€ì¢Œì„ ì§ìˆ˜ ì •ë ¬, í™€ìˆ˜ ì¸ì› ì²˜ë¦¬, í˜¸ë²„ ë¯¸ë¦¬ë³´ê¸°
- **ë¦¬ë·°/í‰ì (ëŒ“ê¸€)**: ë“±ë¡Â·ìˆ˜ì •Â·ì‚­ì œ, ì˜í™” ìƒì„¸ì—ì„œ ë…¸ì¶œ
- **ì˜í™” ì¶”ì²œ**: ì„ íƒ ì˜í™”ì™€ **ì¥ë¥´ ê²¹ì¹¨** ê¸°ì¤€ ìƒìœ„ 5í¸ ì¶”ì²œ(í‰ì  ìˆœ)
- **Admin ëª¨ë“ˆ**: ì˜í™”/ê·¹ì¥/ìƒì˜ í¸ì„±/íšŒì› ê´€ë¦¬
- **ìŠ¤íƒ**: JSP/JSTL + jQuery, Java/JDBC, MySQL 8.x, Tomcat 9+  

---

## í”„ë¡œì íŠ¸ ê°œìš”
í•œ í˜ì´ì§€ì—ì„œ í•„í„°ë¥¼ ë°”ê¾¸ë©´ ì¦‰ì‹œ ìƒì˜ ì •ë³´ê°€ ê°±ì‹ ë˜ê³ , ì¢Œì„ ì„ íƒì€ ì—°ì†ì„±/ê°€ë…ì„±ì„ ë³´ì¥í•˜ëŠ” ê·œì¹™ì„ ì ìš©í•©ë‹ˆë‹¤. ê´€ë¦¬ì í™”ë©´ì—ì„œ ì˜í™”Â·ê·¹ì¥Â·ìƒì˜ í¸ì„±Â·íšŒì› ê´€ë¦¬ë¥¼ ìˆ˜í–‰í•˜ê³ , TMDB ì—°ë™ìœ¼ë¡œ ì˜í™” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.

## ìŠ¤í¬ë¦°ìƒ·/GIF
> `documents/screenshots/`ì— ìº¡ì²˜ë‚˜ `flow.gif`ë¥¼ ì¶”ê°€í•´ ì•„ë˜ì— ì‚½ì…í•˜ì„¸ìš”.  
> ì˜ˆ) ![ì˜ˆë§¤ íë¦„ ë°ëª¨](documents/screenshots/flow.gif)

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥
- **ë©€í‹°-ìŠ¤í… ì˜ˆë§¤ í”Œë¡œìš° (AJAX)**  
  ë‚ ì§œ/ì§€ì—­/ì˜í™”/ê·¹ì¥/ìƒì˜ê´€ ì„ íƒ â†’ ì‹œê°„í‘œ ë¡œë”© â†’ ì¢Œì„ ì„ íƒ â†’ ì˜ˆë§¤ í™•ì •
- **ì¢Œì„ ì„ íƒ UX**  
  - 2ì¸ ì´ìƒì€ **ì—°ì† ì¢Œì„** 2ìë¦¬ ë‹¨ìœ„ ë°°ì •  
  - **ê¸°ì¤€ ì¢Œì„ ì§ìˆ˜ ì •ë ¬**(ì˜ˆ: 2 í´ë¦­ â†’ 1Â·2 / 5 í´ë¦­ â†’ 5Â·6)  
  - **í™€ìˆ˜ ì¸ì›**ì€ 2ì¸ì”© ìš°ì„  ë°°ì • í›„ ë‚¨ëŠ” 1ì„ ì²˜ë¦¬  
  - **Hover ë¯¸ë¦¬ë³´ê¸°**ë¡œ ì‹¤ì œ ì„ íƒ ë²”ìœ„ í‘œì‹œ
- **ë¦¬ë·°/í‰ì (ëŒ“ê¸€)**  
  - `ReviewDAO`/`ReviewDTO`, `movie/insertReview.jsp`, `updateReview.jsp`, `deleteReview.jsp`  
  - rating + content ë“±ë¡/ìˆ˜ì •/ì‚­ì œ, `movieDetail.jsp`ì—ì„œ ë…¸ì¶œ
- **ì˜í™” ì¶”ì²œ**  
  - `MovieDAO.getRecommends(id)` â€” í˜„ì¬ ì˜í™”ì˜ **ì¥ë¥´**ë¥¼ `,`ë¡œ ë¶„í•´ â†’ ìœ ì‚¬ ì¥ë¥´ ì˜í™” **ìƒìœ„ 5í¸**ì„ **í‰ì (score)** ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì¶”ì²œ  
  - `movie/movieDetail.jsp` í•˜ë‹¨ì— í¬ìŠ¤í„°/ì œëª©ìœ¼ë¡œ í‘œì‹œ
- **ê´€ë¦¬ì(Admin)**  
  - `adminMain.jsp` ì¤‘ì‹¬, `adminMember.jsp`, `adminTheater.jsp`, `adminScreening.jsp` ë“± CRUD í™”ë©´

---

## ğŸ§± ê¸°ìˆ  ìŠ¤íƒ
- **Front**: JSP, JSTL, CSS, JavaScript(jQuery/AJAX)  
- **Back**: Java(ì„œë¸”ë¦¿/JSP), JDBC, DAO/DTO  
- **DB**: MySQL 8.x (`com.mysql.cj.jdbc.Driver`)  
- **Server**: Apache Tomcat 9+ (Eclipse Dynamic Web Project)  
- **Framework**: ì—†ìŒ

---

## ğŸ“ í´ë” êµ¬ì¡° (ìš”ì•½)
src/
â”œâ”€ main/
â”‚ â”œâ”€ java/
â”‚ â”‚ â”œâ”€ data/api/ # TMDB ì—°ë™
â”‚ â”‚ â”œâ”€ data/dao/ # AuditoriumDAO, MovieDAO, ReservationDAO, ReviewDAO, ScreeningDAO, SeatDAO, TheaterDAO, UserDAO
â”‚ â”‚ â”œâ”€ data/dto/ # AuditoriumDTO, MovieDTO, ReservationDTO, ReviewDTO, ScreeningDTO, SeatDTO, TheaterDTO, UserDTO
â”‚ â”‚ â””â”€ mysql/db/ # DBConnect.java (ì„¤ì • íŒŒì¼ë¡œ ì£¼ì… ê¶Œì¥)
â”‚ â””â”€ webapp/
â”‚ â”œâ”€ admin/ # ê´€ë¦¬ì í™”ë©´
â”‚ â”œâ”€ book/ # booking/ seat/ payment/ í•˜ìœ„ ì˜ˆë§¤Â·ê²°ì œ
â”‚ â”œâ”€ layout/ # ê³µí†µ ë ˆì´ì•„ì›ƒ
â”‚ â”œâ”€ member/ # ë§ˆì´í˜ì´ì§€ ë“±
â”‚ â””â”€ movie/ # ëª©ë¡/ê²€ìƒ‰/ìƒì„¸/ë¦¬ë·°

pgsql
ì½”ë“œ ë³µì‚¬

---

## ğŸš€ ë¹ ë¥¸ ì‹¤í–‰
**ìš”êµ¬ì‚¬í•­**: JDK 11+, Tomcat 9+, MySQL 8.x, Eclipse(ë˜ëŠ” í˜¸í™˜ IDE)

```bash
# 1) DB ìƒì„±
CREATE DATABASE moviezzang DEFAULT CHARACTER SET utf8mb4;

# 2) (ì„ íƒ) ê°œë°œìš© ì‚¬ìš©ì
CREATE USER 'movie'@'%' IDENTIFIED BY 'moviepw';
GRANT ALL PRIVILEGES ON moviezzang.* TO 'movie'@'%';
FLUSH PRIVILEGES;

# 3) ì„¤ì • ìƒ˜í”Œ ë³µì‚¬ í›„ ê°’ ì±„ìš°ê¸°
cp src/main/resources/db.properties.sample src/main/resources/db.properties
# (TMDB í‚¤ë¥¼ ì“°ëŠ” ê²½ìš°) í™˜ê²½ë³€ìˆ˜ TMDB_API_KEY ë˜ëŠ” tmdb.properties ì‚¬ìš©

# 4) Tomcat 9+ì— ë°°ì¹˜ í›„ Run on Server
ìŠ¤í‚¤ë§ˆ SQLì´ ë³„ë„ë¡œ ì—†ë‹¤ë©´ DAO ì½”ë“œì˜ ì»¬ëŸ¼ì„ ì°¸ê³ í•´ í…Œì´ë¸” DDLì„ êµ¬ì„±í•˜ì„¸ìš”.

âš™ï¸ ì„¤ì • (ê°œë°œììš© ì°¸ê³ )
DB ì—°ê²°: src/main/resources/db.properties (ìƒ˜í”Œ: db.properties.sample)
ì‹¤ì œ ë¹„ë°€ë²ˆí˜¸ê°€ ë‹´ê¸´ íŒŒì¼ì€ ë²„ì „ê´€ë¦¬ ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤(.gitignore ê¶Œì¥).

TMDB API í‚¤: í™˜ê²½ë³€ìˆ˜ TMDB_API_KEY ë˜ëŠ” src/main/resources/tmdb.propertiesë¡œ ì£¼ì…

ì„¤ì¹˜/í‚¤ ê´€ë¦¬ ìƒì„¸ ì•ˆë‚´ê°€ í•„ìš”í•˜ë©´ docs/SETUP.md, SECURITY.mdë¡œ ë¶„ë¦¬í•´ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ”€ ì˜ˆë§¤ íë¦„ (AJAX ì˜ˆì‹œ)
í”„ëŸ°íŠ¸ëŠ” JSP ë‚´ jQueryë¡œ ë‹¨ê³„ë³„ ìš”ì²­ì„ ë³´ë‚´ê³ , ì„œë²„ JSPê°€ JSON/HTML ì¡°ê°ì„ ì‘ë‹µí•©ë‹ˆë‹¤.

javascript
ì½”ë“œ ë³µì‚¬
// ìƒì˜ ëª©ë¡(ì§€ì—­ë³„ ê·¹ì¥ ì¹´ìš´íŠ¸)
$.ajax({
  type: "get",
  url: "<%=request.getContextPath()%>/book/booking/bookList.jsp",
  dataType: "json",
  data: { movie_id: currentMovie_id, screening_date: selectedDate }
});

// ì§€ì—­ë³„ ê·¹ì¥ ëª©ë¡
$.ajax({
  type: "get",
  url: "<%=request.getContextPath()%>/book/booking/theaterList.jsp",
  dataType: "json",
  data: { movie_id: currentMovie_id, region: region, screening_date: selectedDate }
});

// ìƒì˜ ì‹œê°„í‘œ
$.ajax({
  type: "get",
  url: "<%=request.getContextPath()%>/book/booking/showTimes.jsp",
  dataType: "json",
  data: { movie_id: currentMovie_id, region: region, screening_date: selectedDate }
});

// ì¢Œì„ í™•ì • + ê²°ì œ
$.ajax({
  type: "post",
  url: "<%=request.getContextPath()%>/book/payment/payReservationAction.jsp",
  data: { screening_id, seatIds: seatIds.join(","), total: totalInwon }
});
ğŸª‘ ì¢Œì„ ì„ íƒ ê·œì¹™
ì¸ì›ìˆ˜ â‰¥ 2 â†’ ì—°ì† ì¢Œì„ 2ìë¦¬ ë‹¨ìœ„ ë°°ì •

ì§ìˆ˜ ê¸°ì¤€ ì¢Œì„(2â†’1Â·2 / 5â†’5Â·6)

í™€ìˆ˜ ì¸ì›ì€ 2ì¸ì”© ìš°ì„  ë°°ì • í›„ ë‚¨ëŠ” 1ì„ ì²˜ë¦¬

í˜¸ë²„ ì‹œ ì‹¤ì œ ì„ íƒ ë²”ìœ„ ë¯¸ë¦¬ë³´ê¸°

í–‰ ê²½ê³„/ì ìœ  ì¢Œì„, ë™ì‹œì„±(ì¤‘ë³µ ì˜ˆì•½ ë°©ì§€)ì€ ì„œë²„-ì‚¬ì´ë“œ ê²€ì¦ê³¼ í•¨ê»˜ ì²˜ë¦¬

ğŸ¯ ì˜í™” ì¶”ì²œ ë¡œì§
DAO: data/dao/MovieDAO.java â†’ getRecommends(String id)

ì›ë¦¬: í˜„ì¬ ì˜í™”ì˜ ì¥ë¥´ë¥¼ ,ë¡œ ë¶„í•´ â†’ í•´ë‹¹ ì¥ë¥´ë¥¼ í¬í•¨í•˜ëŠ” ë‹¤ë¥¸ ì˜í™”ë¥¼ ê²€ìƒ‰ â†’ í‰ì (score) ë‚´ë¦¼ì°¨ìˆœ ìƒìœ„ 5í¸

í‘œì‹œ ìœ„ì¹˜: movie/movieDetail.jsp í•˜ë‹¨ ì¶”ì²œ ì„¹ì…˜(í¬ìŠ¤í„°/ì œëª©)

SQL ìš”ì•½: m1(ì„ íƒ ì˜í™”) & m2(ë‹¤ë¥¸ ì˜í™”) ì¡°ì¸ â†’ m2.genre LIKE ì¡°ê±´ìœ¼ë¡œ ì¥ë¥´ ê²¹ì¹¨ â†’ ORDER BY m2.score DESC LIMIT 5

ë¡œë“œë§µ
(ì„ íƒ) ì¦ê²¨ì°¾ê¸°/ì°œ: favorite(user_id, movie_id) í…Œì´ë¸” + í† ê¸€ ì—”ë“œí¬ì¸íŠ¸

ì¢Œì„ ì„ì‹œ í™€ë“œ(íƒ€ì„ì•„ì›ƒ) ë° ë™ì‹œì„± ì œì–´

ìƒì˜ ì‹œê°„í‘œ ìºì‹±/ì¿¼ë¦¬ ìµœì í™” + ì¸ë±ìŠ¤ ì„¤ê³„

ê´€ë¦¬ì UI ê°œì„ (ì ‘ê·¼ ê¶Œí•œ/ê°ì‚¬ ë¡œê·¸)

í…ŒìŠ¤íŠ¸ ë³´ê°•(JUnit/í†µí•© í…ŒìŠ¤íŠ¸), ì˜ˆì™¸/ì—ëŸ¬ í•¸ë“¤ë§ ì •êµí™”
